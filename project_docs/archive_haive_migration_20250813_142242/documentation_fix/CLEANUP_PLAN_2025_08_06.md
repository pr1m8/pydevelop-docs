# Documentation Cleanup Plan - August 6th, 2025

**Status**: AutoAPI issue RESOLVED - now cleaning up the mess  
**Root Issue**: Extension order - AutoAPI must be FIRST in extensions list  
**Solution Applied**: Put `autoapi.extension` first in both minimal and full extension lists

## ðŸ§¹ Files to Clean Up

### Test Files (DELETE)

```bash
docs/
â”œâ”€â”€ test_autoapi*.py                    # DELETE - Debug scripts
â”œâ”€â”€ minimal_autoapi_test.py            # DELETE - Test script
â”œâ”€â”€ test_conf_minimal.py               # DELETE - Test config
â”œâ”€â”€ test_minimal.py                    # DELETE - Test script
â”œâ”€â”€ debug_*.py                         # DELETE - All debug scripts
â”œâ”€â”€ analyze_*.py                       # DELETE - Analysis scripts
â”œâ”€â”€ fix_*.py                           # DELETE - Fix scripts
â”œâ”€â”€ cleanup_docs.py                    # DELETE - Cleanup script
â”œâ”€â”€ path_analysis.py                   # DELETE - Debug script
â””â”€â”€ disable_sphinx_design.py          # DELETE - Debug script
```

### Test Build Directories (DELETE)

```bash
docs/
â”œâ”€â”€ minimal_build/                     # DELETE - Test build output
â”œâ”€â”€ test_build/                        # DELETE - Test build output
â”œâ”€â”€ build_minimal/                     # DELETE - Test build output
â”œâ”€â”€ minimal_source/                    # DELETE - Test source
â”œâ”€â”€ test_source/                       # DELETE - Test source
â””â”€â”€ source_minimal/                    # DELETE - Test source
```

### Configuration Backups (KEEP SOME)

```bash
docs/source/
â”œâ”€â”€ conf.py.backup*                    # KEEP - Recent backups
â”œâ”€â”€ conf.py.debug_backup               # DELETE - Debug backup
â”œâ”€â”€ conf.py.full_backup                # KEEP - Full backup
â”œâ”€â”€ conf.py.working_backup             # KEEP - Working backup
â”œâ”€â”€ conf_*.py                          # DELETE - Test configs
â”œâ”€â”€ test_autoapi_minimal.py           # DELETE - Test config
â””â”€â”€ conf_modules/                      # KEEP - Active modules
```

### Build Outputs (DELETE ALL)

```bash
docs/
â”œâ”€â”€ build/                             # DELETE - Old build
â”œâ”€â”€ _build/                            # DELETE - Sphinx build
â”œâ”€â”€ logs/                              # DELETE - Log files
â”œâ”€â”€ _consolidated_archives/            # DELETE - Archive clutter
â”œâ”€â”€ _archived_autogenerated_rst/       # DELETE - Archive clutter
â”œâ”€â”€ error_reports/                     # DELETE - Error reports
â”œâ”€â”€ quality-reports/                   # DELETE - Quality reports
â””â”€â”€ *.log                              # DELETE - Log files
```

## ðŸ”§ Cleanup Script

Create and run cleanup script:

```python
#!/usr/bin/env python3
"""Clean up docs directory after AutoAPI fix."""

import shutil
import os
from pathlib import Path

docs_dir = Path("docs")

# Test files to delete
test_files = [
    "test_autoapi*.py", "minimal_autoapi_test.py", "test_conf_minimal.py",
    "test_minimal.py", "debug_*.py", "analyze_*.py", "fix_*.py",
    "cleanup_docs.py", "path_analysis.py", "disable_sphinx_design.py"
]

# Test directories to delete
test_dirs = [
    "minimal_build", "test_build", "build_minimal",
    "minimal_source", "test_source", "source_minimal",
    "build", "_build", "logs", "_consolidated_archives",
    "_archived_autogenerated_rst", "error_reports", "quality-reports"
]

# Log files to delete
log_files = ["*.log", "sphinx_profile.stats", "dynamic_graph.log"]

print("ðŸ§¹ Starting docs directory cleanup...")
# Implementation here
```

## âœ… Keep These Files

### Essential Configuration

- `docs/source/conf.py` - Main configuration (FIXED)
- `docs/source/conf_modules/` - Extension modules (UPDATED)
- `docs/source/_templates/` - Templates
- `docs/source/_static/` - Static files

### Documentation Content

- `docs/source/index.rst` - Main index
- `docs/source/api/index.rst` - API index
- Other `.rst` content files

### Project Files

- `docs/source/_toc.yml` - Table of contents
- `docs/requirements*.txt` - Requirements
- `docs/Makefile` - Build automation
- `docs/make.bat` - Windows build

## ðŸŽ¯ Post-Cleanup Test

After cleanup, test the fix:

```bash
# Test minimal profile with AutoAPI first
export SPHINX_PROFILE=minimal
poetry run sphinx-build -b html docs/source docs/build/html -E -v

# Should see:
# [AutoAPI] Reading files... [  0%] /path/to/file.py
# [AutoAPI] Reading files... [  1%] /path/to/file.py
# ... (processing all files)
```

## ðŸ“Š Expected Results

**Before Cleanup**: 200+ files in docs directory  
**After Cleanup**: ~20 essential files  
**AutoAPI Status**: âœ… Working with namespace packages  
**Build Status**: âœ… Clean, successful builds

---

**The core issue is SOLVED!** AutoAPI extension order was the problem. Now we just clean up the mess from debugging.
